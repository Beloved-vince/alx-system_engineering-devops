#!/usr/bin/env bashh

# Create a new Nginx server block configuration file
sudo touch /etc/nginx/sites-available/redirect

# Insert the redirect configuration into the new file
sudo bash -c "cat > /etc/nginx/sites-available/redirect <<EOF
server {
    listen 80;
    server_name example.com;

    location /redirect_me {
        return 301 https://www.example.com/newpage;
    }
}
EOF"

# Enable the new configuration by creating a symlink
sudo ln -s /etc/nginx/sites-available/redirect /etc/nginx/sites-enabled/

# Test the configuration for syntax errors
sudo nginx -t

# Restart Nginx to apply the new configuration
sudo service  restart nginx
